(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[40],{"Hn+V":function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return re}));var r=n("zjfJ"),a=n("ERkP"),i=n.n(a),o=n("cjvV"),s=n("67po"),u=n("oT5u"),l=n.n(u),h=n("aWzz"),c=n.n(h),d=n("JmwF"),p=n("g2fB"),f=n("wQia"),x=n.n(f);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(m(t=e.call.apply(e,[this].concat(r))||this),"handleDragMove",(function(e){var n=t.props,r=n.updateBrush,a=n.type;e.isDragging&&r((function(t){var n=t.start,r=t.end,i=0,o=Math.max(n.x,r.x),s=Math.min(n.x,r.x),u=Math.max(n.y,r.y),l=Math.min(n.y,r.y);switch(a){case"right":return i=o+e.dx,g({},t,{activeHandle:a,extent:g({},t.extent,{x0:Math.max(Math.min(i,n.x),t.bounds.x0),x1:Math.min(Math.max(i,n.x),t.bounds.x1)})});case"left":return i=s+e.dx,g({},t,{activeHandle:a,extent:g({},t.extent,{x0:Math.min(i,r.x),x1:Math.max(i,r.x)})});case"bottom":return i=u+e.dy,g({},t,{activeHandle:a,extent:g({},t.extent,{y0:Math.min(i,n.y),y1:Math.max(i,n.y)})});case"top":return i=l+e.dy,g({},t,{activeHandle:a,extent:g({},t.extent,{y0:Math.min(i,r.y),y1:Math.max(i,r.y)})});default:return t}}))})),y(m(t),"handleDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=e.start,n=e.end,a=e.extent;t.x=Math.min(a.x0,a.x1),t.y=Math.min(a.y0,a.y0),n.x=Math.max(a.x0,a.x1),n.y=Math.max(a.y0,a.y1);var i=g({},e,{start:t,end:n,activeHandle:null,isBrushing:!1,extent:{x0:Math.min(t.x,n.x),x1:Math.max(t.x,n.x),y0:Math.min(t.y,n.y),y1:Math.max(t.y,n.y)}});return r&&r(i),i}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.stageWidth,n=e.stageHeight,r=e.brush,a=e.type,o=e.handle,s=o.x,u=o.y,l=o.width,h=o.height,c="right"===a||"left"===a?"ew-resize":"ns-resize";return i.a.createElement(x.a,{width:t,height:n,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,resetOnStart:!0},(function(e){var o=e.dragStart,d=e.dragEnd,p=e.dragMove,f=e.isDragging;return i.a.createElement("g",null,f&&i.a.createElement("rect",{fill:"transparent",width:t,height:n,style:{cursor:c},onMouseMove:p,onMouseUp:d,onMouseLeave:d}),i.a.createElement("rect",{x:s,y:u,width:l,height:h,fill:"transparent",className:"visx-brush-handle-"+a,onMouseDown:o,onMouseMove:p,onMouseUp:d,style:{cursor:c,pointerEvents:r.activeHandle||r.isBrushing?"none":"all"}}))}))},r}(i.a.Component);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y(b,"propTypes",{stageWidth:c.a.number.isRequired,stageHeight:c.a.number.isRequired,updateBrush:c.a.func.isRequired,onBrushEnd:c.a.func,handle:c.a.shape({x:c.a.number.isRequired,y:c.a.number.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired}).isRequired});var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return O(M(t=e.call.apply(e,[this].concat(r))||this),"cornerDragMove",(function(e){var n=t.props,r=n.updateBrush,a=n.type;e.isDragging&&r((function(t){var n=t.start,r=t.end,i=Math.max(n.x,r.x),o=Math.min(n.x,r.x),s=Math.max(n.y,r.y),u=Math.min(n.y,r.y),l=0,h=0;switch(a){case"topRight":return l=i+e.dx,h=u+e.dy,v({},t,{activeHandle:a,extent:v({},t.extent,{x0:Math.max(Math.min(l,n.x),t.bounds.x0),x1:Math.min(Math.max(l,n.x),t.bounds.x1),y0:Math.max(Math.min(h,r.y),t.bounds.y0),y1:Math.min(Math.max(h,r.y),t.bounds.y1)})});case"topLeft":return l=o+e.dx,h=u+e.dy,v({},t,{activeHandle:a,extent:v({},t.extent,{x0:Math.max(Math.min(l,r.x),t.bounds.x0),x1:Math.min(Math.max(l,r.x),t.bounds.x1),y0:Math.max(Math.min(h,r.y),t.bounds.y0),y1:Math.min(Math.max(h,r.y),t.bounds.y1)})});case"bottomLeft":return l=o+e.dx,h=s+e.dy,v({},t,{activeHandle:a,extent:v({},t.extent,{x0:Math.max(Math.min(l,r.x),t.bounds.x0),x1:Math.min(Math.max(l,r.x),t.bounds.x1),y0:Math.max(Math.min(h,n.y),t.bounds.y0),y1:Math.min(Math.max(h,n.y),t.bounds.y1)})});case"bottomRight":return l=i+e.dx,h=s+e.dy,v({},t,{activeHandle:a,extent:v({},t.extent,{x0:Math.max(Math.min(l,n.x),t.bounds.x0),x1:Math.min(Math.max(l,n.x),t.bounds.x1),y0:Math.max(Math.min(h,n.y),t.bounds.y0),y1:Math.min(Math.max(h,n.y),t.bounds.y1)})});default:return t}}))})),O(M(t),"cornerDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=e.start,n=e.end,a=e.extent;t.x=Math.min(a.x0,a.x1),t.y=Math.min(a.y0,a.y0),n.x=Math.max(a.x0,a.x1),n.y=Math.max(a.y0,a.y1);var i=v({},e,{start:t,end:n,activeHandle:null,domain:{x0:Math.min(t.x,n.x),x1:Math.max(t.x,n.x),y0:Math.min(t.y,n.y),y1:Math.max(t.y,n.y)}});return r&&r(i),i}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.brush,r=e.stageWidth,a=e.stageHeight,o=e.style,s=e.corner,u=o&&o.cursor||("topLeft"===t||"bottomRight"===t?"nwse-resize":"nesw-resize"),l=n.activeHandle||n.isBrushing?"none":"all";return i.a.createElement(x.a,{width:r,height:a,onDragMove:this.cornerDragMove,onDragEnd:this.cornerDragEnd,resetOnStart:!0},(function(e){var n=e.dragMove,h=e.dragEnd,c=e.dragStart,d=e.isDragging;return i.a.createElement("g",null,d&&i.a.createElement("rect",{fill:"transparent",width:r,height:a,style:{cursor:u},onMouseMove:n,onMouseUp:h}),i.a.createElement("rect",v({fill:"transparent",onMouseDown:c,onMouseMove:n,onMouseUp:h,className:"visx-brush-corner-"+t,style:v({cursor:u,pointerEvents:l},o)},s)))}))},r}(i.a.Component);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O(S,"propTypes",{stageWidth:c.a.number.isRequired,stageHeight:c.a.number.isRequired,updateBrush:c.a.func.isRequired,onBrushEnd:c.a.func,corner:c.a.shape({x:c.a.number.isRequired,y:c.a.number.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired}).isRequired}),O(S,"defaultProps",{style:{}});var B={cursor:"move"},k=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return D(E(t=e.call.apply(e,[this].concat(r))||this),"selectionDragMove",(function(e){(0,t.props.updateBrush)((function(t){var n=t.start,r=n.x,a=n.y,i=t.end,o=i.x,s=i.y,u=e.dx>0?Math.min(e.dx,t.bounds.x1-o):Math.max(e.dx,t.bounds.x0-r),l=e.dy>0?Math.min(e.dy,t.bounds.y1-s):Math.max(e.dy,t.bounds.y0-a);return w({},t,{isBrushing:!0,extent:w({},t.extent,{x0:r+u,x1:o+u,y0:a+l,y1:s+l})})}))})),D(E(t),"selectionDragEnd",(function(){var e=t.props,n=e.updateBrush,r=e.onBrushEnd;n((function(e){var t=w({},e,{isBrushing:!1,start:w({},e.start,{x:Math.min(e.extent.x0,e.extent.x1),y:Math.min(e.extent.y0,e.extent.y1)}),end:w({},e.end,{x:Math.max(e.extent.x0,e.extent.x1),y:Math.max(e.extent.y0,e.extent.y1)})});return r&&r(t),t}))})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.stageWidth,a=e.stageHeight,o=e.brush,s=e.disableDraggingSelection,u=e.onMouseLeave,l=e.onMouseMove,h=e.onMouseUp,c=e.onClick,d=e.selectedBoxStyle;return i.a.createElement(x.a,{width:t,height:n,resetOnStart:!0,onDragMove:this.selectionDragMove,onDragEnd:this.selectionDragEnd},(function(e){var p=e.isDragging,f=e.dragStart,x=e.dragEnd,g=e.dragMove;return i.a.createElement("g",null,p&&i.a.createElement("rect",{width:r,height:a,fill:"transparent",onMouseUp:x,onMouseMove:g,onMouseLeave:x,style:B}),i.a.createElement("rect",w({x:Math.min(o.extent.x0,o.extent.x1),y:Math.min(o.extent.y0,o.extent.y1),width:t,height:n,className:"visx-brush-selection",onMouseDown:s?void 0:f,onMouseLeave:function(e){u&&u(e)},onMouseMove:function(e){g(e),l&&l(e)},onMouseUp:function(e){x(e),h&&h(e)},onClick:function(e){c&&c(e)},style:{pointerEvents:o.isBrushing||o.activeHandle?"none":"all",cursor:s?void 0:"move"}},d)))}))},r}(i.a.Component);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}D(k,"propTypes",{width:c.a.number.isRequired,height:c.a.number.isRequired,stageWidth:c.a.number.isRequired,stageHeight:c.a.number.isRequired,updateBrush:c.a.func.isRequired,onBrushEnd:c.a.func,disableDraggingSelection:c.a.bool.isRequired,onMouseLeave:c.a.func,onMouseMove:c.a.func,onMouseUp:c.a.func,onClick:c.a.func}),D(k,"defaultProps",{onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null});var A={cursor:"crosshair"},_=function(e){var t,n;function r(t){var n;j(R(n=e.call(this,t)||this),"mouseUpTime",0),j(R(n),"mouseDownTime",0),j(R(n),"getExtent",(function(e,t){var r=n.props,a=r.brushDirection,i=r.width,o=r.height;return{x0:"vertical"===a?0:Math.min(e.x||0,t.x||0),x1:"vertical"===a?i:Math.max(e.x||0,t.x||0),y0:"horizontal"===a?0:Math.min(e.y||0,t.y||0),y1:"horizontal"===a?o:Math.max(e.y||0,t.y||0)}})),j(R(n),"handleDragStart",(function(e){var t=n.props,r=t.onBrushStart,a=t.left,i=t.top,o=t.inheritedMargin,s=o&&o.left?o.left:0,u=o&&o.top?o.top:0,l={x:(e.x||0)+e.dx-a-s,y:(e.y||0)+e.dy-i-u},h=C({},l);r&&r(l),n.updateBrush((function(e){return C({},e,{start:l,end:h,extent:{x0:-1,x1:-1,y0:-1,y1:-1},isBrushing:!0})}))})),j(R(n),"handleDragMove",(function(e){var t=n.props,r=t.left,a=t.top,i=t.inheritedMargin;if(e.isDragging){var o=i&&i.left||0,s=i&&i.top||0,u={x:(e.x||0)+e.dx-r-o,y:(e.y||0)+e.dy-a-s};n.updateBrush((function(e){var t=e.start,r=n.getExtent(t,u);return C({},e,{end:u,extent:r})}))}})),j(R(n),"handleDragEnd",(function(){var e=n.props,t=e.onBrushEnd,r=e.resetOnEnd;n.updateBrush((function(e){var a=e.extent,i=C({},e,{start:{x:a.x0,y:a.y0},end:{x:a.x1,y:a.y1},isBrushing:!1,activeHandle:null});return t&&t(i),r&&n.reset(),i}))})),j(R(n),"getBrushWidth",(function(){var e=n.state.extent,t=e.x0,r=e.x1;return Math.max(Math.max(t,r)-Math.min(t,r),0)})),j(R(n),"getBrushHeight",(function(){var e=n.state.extent,t=e.y1,r=e.y0;return Math.max(Math.max(r,t)-Math.min(r,t),0)})),j(R(n),"handles",(function(){var e=n.props.handleSize,t=n.state.extent,r=t.x0,a=t.x1,i=t.y0,o=t.y1,s=e/2,u=n.getBrushWidth(),l=n.getBrushHeight();return{top:{x:r-s,y:i-s,height:e,width:u+e},bottom:{x:r-s,y:o-s,height:e,width:u+e},right:{x:a-s,y:i-s,height:l+e,width:e},left:{x:r-s,y:i-s,height:l+e,width:e}}})),j(R(n),"corners",(function(){var e=n.props.handleSize,t=n.state.extent,r=t.x0,a=t.x1,i=t.y0,o=t.y1,s=e/2,u=e,l=e;return{topLeft:{x:Math.min(r,a)-s,y:Math.min(i,o)-s,width:u,height:l},topRight:{x:Math.max(r,a)-s,y:Math.min(i,o)-s,width:u,height:l},bottomLeft:{x:Math.min(r,a)-s,y:Math.max(i,o)-s,width:u,height:l},bottomRight:{x:Math.max(r,a)-s,y:Math.max(i,o)-s,width:u,height:l}}})),j(R(n),"updateBrush",(function(e){var t=n.props.onChange;n.setState(e,(function(){t&&t(n.state)}))})),j(R(n),"reset",(function(){var e=n.props,t=e.width,r=e.height;n.updateBrush((function(){return{start:{x:0,y:0},end:{x:0,y:0},extent:{x0:-1,x1:-1,y0:-1,y1:-1},bounds:{x0:0,x1:t,y0:0,y1:r},isBrushing:!1,activeHandle:null}}))}));var r=t.initialBrushPosition,a=r?n.getExtent(r.start,r.end):{x0:-1,x1:-1,y0:-1,y1:-1};return n.state={start:{x:Math.max(0,a.x0),y:Math.max(0,a.y0)},end:{x:Math.max(0,a.x1),y:Math.max(0,a.y1)},extent:a,bounds:{x0:0,x1:n.props.width,y0:0,y1:n.props.height},isBrushing:!1,activeHandle:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this;this.props.width===e.width&&this.props.height===e.height||this.setState((function(){return{bounds:{x0:0,x1:t.props.width,y0:0,y1:t.props.height}}}))},a.render=function(){var e=this,t=this.state,n=t.start,r=t.end,a=this.props,o=a.top,s=a.left,u=a.width,l=a.height,h=a.onMouseLeave,c=a.onMouseUp,f=a.onMouseMove,g=a.onBrushEnd,m=a.onClick,y=a.resizeTriggerAreas,v=a.selectedBoxStyle,M=a.disableDraggingSelection,O=a.clickSensitivity,w=this.handles(),E=this.corners(),D=this.getBrushWidth(),B=this.getBrushHeight(),R=new Set(y);return i.a.createElement(d.a,{className:"visx-brush",top:o,left:s},i.a.createElement(x.a,{width:u,height:l,resetOnStart:!0,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd},(function(t){var n=t.dragStart,r=t.isDragging,a=t.dragMove,o=t.dragEnd;return i.a.createElement(p.a,{className:"visx-brush-overlay",fill:"transparent",x:0,y:0,width:u,height:l,onDoubleClick:function(){return e.reset()},onClick:function(t){var n=e.mouseUpTime-e.mouseDownTime;m&&n<O&&m(t)},onMouseDown:function(t){e.mouseDownTime=Date.now(),n(t)},onMouseLeave:function(e){h&&h(e)},onMouseMove:function(e){!r&&f&&f(e),r&&a(e)},onMouseUp:function(t){e.mouseUpTime=Date.now(),c&&c(t),o(t)},style:A})})),n&&r&&i.a.createElement(k,{updateBrush:this.updateBrush,width:D,height:B,stageWidth:u,stageHeight:l,brush:C({},this.state),disableDraggingSelection:M,onBrushEnd:g,onMouseLeave:h,onMouseMove:f,onMouseUp:c,onClick:m,selectedBoxStyle:v}),n&&r&&Object.keys(w).filter((function(e){return R.has(e)})).map((function(t){var n=w[t];return n&&i.a.createElement(b,{key:"handle-"+t,type:t,handle:n,stageWidth:u,stageHeight:l,updateBrush:e.updateBrush,brush:e.state,onBrushEnd:g})})),n&&r&&Object.keys(E).filter((function(e){return R.has(e)})).map((function(t){var n=E[t];return n&&i.a.createElement(S,{key:"corner-"+t,type:t,brush:e.state,updateBrush:e.updateBrush,stageWidth:u,stageHeight:l,corner:n,onBrushEnd:g})})))},r}(i.a.Component);function P(e,t){if(!e.invert){var n=e.range(),r=n[0],a=n[1],i=0,o=e.step()*(a-r)/Math.abs(a-r);if(o>0)for(;t>r+o*(i+1);)i+=1;else for(;t<r+o*(i+1);)i+=1;return i}return e.invert(t)}function L(e,t,n,r){var a,i=P(e,t+(t<n?-r:r)),o=P(e,n+(n<t?-r:r)),s=Math.min(i,o),u=Math.max(i,o);if(e.invert)a={start:s,end:u};else{for(var l=[],h=e.domain(),c=s;c<=u;c+=1)l.push(h[c]);a={values:l}}return a}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j(_,"propTypes",{brushDirection:c.a.oneOf(["horizontal","vertical","both"]),width:c.a.number.isRequired,height:c.a.number.isRequired,left:c.a.number.isRequired,top:c.a.number.isRequired,onChange:c.a.func,handleSize:c.a.number,resizeTriggerAreas:c.a.array,onBrushStart:c.a.func,onBrushEnd:c.a.func,onMouseLeave:c.a.func,onMouseUp:c.a.func,onMouseMove:c.a.func,onClick:c.a.func,clickSensitivity:c.a.number,disableDraggingSelection:c.a.bool,resetOnEnd:c.a.bool}),j(_,"defaultProps",{brushDirection:"both",inheritedMargin:{left:0,top:0,right:0,bottom:0},onChange:null,handleSize:4,resizeTriggerAreas:["left","right"],onBrushStart:null,onBrushEnd:null,onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null,disableDraggingSelection:!1,clickSensitivity:200,resetOnEnd:!1,initialBrushPosition:null});var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return z(q(t=e.call.apply(e,[this].concat(r))||this),"handleChange",(function(e){var n=t.props.onChange;if(n){var r=e.extent.x0;if("undefined"===typeof r||r<0)n(null);else n(t.convertRangeToDomain(e))}})),z(q(t),"handleBrushStart",(function(e){var n=t.props.onBrushStart;if(n){var r=e.x,a=e.y,i=t.props,o=i.xScale,s=i.yScale,u=P(o,r),l=P(s,a);n({x:o.invert?u:o.domain()[u],y:s.invert?l:s.domain()[l]})}})),z(q(t),"handleBrushEnd",(function(e){var n=t.props.onBrushEnd;if(n){var r=e.extent.x0;if("undefined"===typeof r||r<0)n(null);else n(t.convertRangeToDomain(e))}})),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.convertRangeToDomain=function(e){var t=this.props,n=t.xScale,r=t.yScale,a=e.extent,i=a.x0,o=a.x1,s=a.y0,u=a.y1,l=L(n,i||0,o||0,2),h=L(r,s||0,u||0,2);return{x0:l.start||0,x1:l.end||0,xValues:l.values,y0:h.start||0,y1:h.end||0,yValues:h.values}},a.render=function(){var e,t,n,r,a=this.props,o=a.xScale,s=a.yScale,u=a.height,l=a.width,h=a.margin,c=a.brushDirection,d=a.initialBrushPosition,p=a.resizeTriggerAreas,f=a.brushRegion,x=a.yAxisOrientation,g=a.xAxisOrientation,m=a.selectedBoxStyle,y=a.disableDraggingSelection,b=a.resetOnEnd,v=a.onMouseLeave,M=a.onMouseMove,O=a.onClick,S=a.handleSize;if(!o||!s)return null;var w=h&&h.left?h.left:0,E=h&&h.top?h.top:0,D=h&&h.right?h.right:0,B=h&&h.bottom?h.bottom:0;return"chart"===f?(n=0,r=0,e=l,t=u):"yAxis"===f?(r=0,t=u,"right"===x?(n=l,e=D):(n=-w,e=w)):(n=0,e=l,"bottom"===g?(r=u,t=B):(r=-E,t=E)),i.a.createElement(_,{width:e,height:t,left:n,top:r,inheritedMargin:h,initialBrushPosition:d,onChange:this.handleChange,onBrushEnd:this.handleBrushEnd,onBrushStart:this.handleBrushStart,handleSize:S,resizeTriggerAreas:p,brushDirection:c,selectedBoxStyle:m,disableDraggingSelection:y,resetOnEnd:b,onMouseLeave:v,onMouseMove:M,onClick:O})},r}(a.Component);z(T,"propTypes",{height:c.a.number,width:c.a.number,onChange:c.a.func,onBrushEnd:c.a.func,brushDirection:c.a.oneOf(["vertical","horizontal","both"]),resizeTriggerAreas:c.a.array,brushRegion:c.a.oneOf(["xAxis","yAxis","chart"]),yAxisOrientation:c.a.oneOf(["left","right"]),xAxisOrientation:c.a.oneOf(["top","bottom"]),disableDraggingSelection:c.a.bool,resetOnEnd:c.a.bool,handleSize:c.a.number}),z(T,"defaultProps",{xScale:null,yScale:null,onChange:null,height:0,width:0,selectedBoxStyle:{fill:"steelblue",fillOpacity:.2,stroke:"steelblue",strokeWidth:1,strokeOpacity:.8},margin:{top:0,left:0,right:0,bottom:0},handleSize:4,brushDirection:"horizontal",initialBrushPosition:null,resizeTriggerAreas:["left","right"],brushRegion:"chart",yAxisOrientation:"right",xAxisOrientation:"bottom",onBrushStart:null,onBrushEnd:null,disableDraggingSelection:!1,resetOnEnd:!1,onMouseMove:null,onMouseLeave:null,onClick:null});var H=T,N=n("a49c"),V=n("Cf/J"),U=n("ue4z"),W=n("9Jhr"),F=n("a7GN"),I=n("KRsa"),J=n("EbDF"),K=i.a.createElement,Y={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#fff"},G={dx:"-0.25em",dy:"0.25em",fontFamily:"Arial",fontSize:10,textAnchor:"end",fill:"#fff"};function Q(e){var t=e.data,n=e.gradientColor,r=e.width,a=e.yMax,i=e.margin,o=e.xScale,s=e.yScale,u=e.hideBottomAxis,l=void 0!==u&&u,h=e.hideLeftAxis,c=void 0!==h&&h,p=e.top,f=e.left,x=e.children;return r<10?null:K(d.a,{left:f||i.left,top:p||i.top},K(V.a,{id:"gradient",from:n,fromOpacity:1,to:n,toOpacity:.2}),K(W.a,{data:t,x:function(e){return o(function(e){return new Date(e.date)}(e))||0},y:function(e){return s(function(e){return e.close}(e))||0},yScale:s,strokeWidth:1,stroke:"url(#gradient)",fill:"url(#gradient)",curve:J.a}),!l&&K(F.a,{top:a,scale:o,numTicks:r>520?10:5,stroke:"#fff",tickStroke:"#fff",tickLabelProps:function(){return Y}}),!c&&K(I.a,{scale:s,numTicks:5,stroke:"#fff",tickStroke:"#fff",tickLabelProps:function(){return G}}),x)}try{Q.displayName="AreaChart",Q.__docgenInfo={description:"",displayName:"AreaChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"AppleStock[]"}},gradientColor:{defaultValue:null,description:"",name:"gradientColor",required:!0,type:{name:"string"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleTime<number, number> | ScaleLinear<number, number> | ScaleLogarithmic<number, number> | ScalePower<number, number> | ... 6 more ... | ScaleBand<...>"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleTime<number, number> | ScaleLinear<number, number> | ScaleLogarithmic<number, number> | ScalePower<number, number> | ... 6 more ... | ScaleBand<...>"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},yMax:{defaultValue:null,description:"",name:"yMax",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},hideBottomAxis:{defaultValue:{value:!1},description:"",name:"hideBottomAxis",required:!1,type:{name:"boolean | undefined"}},hideLeftAxis:{defaultValue:{value:!1},description:"",name:"hideLeftAxis",required:!1,type:{name:"boolean | undefined"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"number | undefined"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-brush/AreaChart.tsx#AreaChart"]={docgenInfo:Q.__docgenInfo,name:"AreaChart",path:"src/sandboxes/visx-brush/AreaChart.tsx#AreaChart"})}catch(ue){}var X=i.a.createElement;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=l.a.slice(1e3),te={top:10,bottom:15,left:50,right:20},ne="#f6acc8",re="#584153",ae={fill:"url(#".concat("brush_pattern",")"),stroke:"white"},ie=function(e){return new Date(e.date)},oe=function(e){return e.close};function se(e){var t=e.compact,n=void 0!==t&&t,r=e.width,i=e.height,u=e.margin,l=void 0===u?{top:20,left:50,bottom:20,right:20}:u,h=Object(a.useState)(ee),c=h[0],d=h[1],p=i-l.top-l.bottom,f=n?15:40,x=.8*p-f,g=p-x-30,m=Math.max(r-l.left-l.right,0),y=Math.max(x,0),b=Math.max(r-te.left-te.right,0),v=Math.max(g-te.top-te.bottom,0),M=Object(a.useMemo)((function(){return Object(o.a)({range:[0,m],domain:Object(U.b)(c,ie)})}),[m,c]),O=Object(a.useMemo)((function(){return Object(s.a)({range:[y,0],domain:[0,Object(U.c)(c,oe)||0],nice:!0})}),[y,c]),S=Object(a.useMemo)((function(){return Object(o.a)({range:[0,b],domain:Object(U.b)(ee,ie)})}),[b]),w=Object(a.useMemo)((function(){return Object(s.a)({range:[v,0],domain:[0,Object(U.c)(ee,oe)||0],nice:!0})}),[v]),E=Object(a.useMemo)((function(){return{start:{x:S(ie(ee[50]))},end:{x:S(ie(ee[100]))}}}),[S]);return X("div",null,X("svg",{width:r,height:i},X(V.a,{id:"brush_gradient",from:re,to:"#af8baf",rotate:45}),X("rect",{x:0,y:0,width:r,height:i,fill:"url(#".concat("brush_gradient",")"),rx:14}),X(Q,{hideBottomAxis:n,data:c,width:r,margin:$($({},l),{},{bottom:f}),yMax:y,xScale:M,yScale:O,gradientColor:"#af8baf"}),X(Q,{hideBottomAxis:!0,hideLeftAxis:!0,data:ee,width:r,yMax:v,xScale:S,yScale:w,margin:te,top:x+f+l.top,gradientColor:"#af8baf"},X(N.a,{id:"brush_pattern",height:8,width:8,stroke:ne,strokeWidth:1,orientation:["diagonal"]}),X(H,{xScale:S,yScale:w,width:b,height:v,margin:te,handleSize:8,resizeTriggerAreas:["left","right"],brushDirection:"horizontal",initialBrushPosition:E,onChange:function(e){if(e){var t=e.x0,n=e.x1,r=e.y0,a=e.y1,i=ee.filter((function(e){var i=ie(e).getTime(),o=oe(e);return i>t&&i<n&&o>r&&o<a}));d(i)}},onClick:function(){return d(ee)},selectedBoxStyle:ae}))))}t.c=se;try{se.displayName="BrushChart",se.__docgenInfo={description:"",displayName:"BrushChart",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:{value:"{\n    top: 20,\n    left: 50,\n    bottom: 20,\n    right: 20,\n  }"},description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; } | undefined"}},compact:{defaultValue:{value:!1},description:"",name:"compact",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-brush/Example.tsx#BrushChart"]={docgenInfo:se.__docgenInfo,name:"BrushChart",path:"src/sandboxes/visx-brush/Example.tsx#BrushChart"})}catch(ue){}},KRsa:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ERkP"),a=n.n(r),i=n("O94r"),o=n.n(i),s=n("5Nbk"),u=n("pn27");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};function c(e){var t=e.axisClassName,n=e.labelOffset,r=void 0===n?36:n,i=e.tickLabelProps,c=void 0===i?h:i,d=e.tickLength,p=void 0===d?8:d,f=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(s.a,l({axisClassName:o()("visx-axis-left",t),labelOffset:r,orientation:u.a.left,tickLabelProps:c,tickLength:p},f))}},MiVw:function(e,t,n){"use strict";n.r(t);var r=n("jpI8");n.d(t,"localPoint",(function(){return r.a}));var a=n("VB+g");n.d(t,"touchPoint",(function(){return a.a}))},MrGM:function(e){e.exports=JSON.parse('{"name":"@visx/demo-brush","description":"Standalone visx brush demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^16","@types/react-dom":"^16","@visx/axis":"latest","@visx/brush":"latest","@visx/curve":"latest","@visx/gradient":"latest","@visx/group":"latest","@visx/mock-data":"latest","@visx/pattern":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","d3-array":"^2.4.0","react":"^16.8","react-dom":"^16.8","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","brush","interaction"]}')},a7GN:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("ERkP"),a=n.n(r),i=n("O94r"),o=n.n(i),s=n("5Nbk"),u=n("pn27");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};function c(e){var t=e.axisClassName,n=e.labelOffset,r=void 0===n?8:n,i=e.tickLabelProps,c=void 0===i?h:i,d=e.tickLength,p=void 0===d?8:d,f=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(s.a,l({axisClassName:o()("visx-axis-bottom",t),labelOffset:r,orientation:u.a.bottom,tickLabelProps:c,tickLength:p},f))}},wQia:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n("aWzz")),a=o(n("ERkP")),i=n("MiVw");function o(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return l(u(t=e.call.apply(e,[this].concat(r))||this),"state",{x:void 0,y:void 0,dx:0,dy:0,isDragging:!1}),l(u(t),"handleDragStart",(function(e){var n=t.props,r=n.onDragStart,a=n.resetOnStart;e.persist(),t.setState((function(t){var n=t.dx,r=t.dy,o=(0,i.localPoint)(e)||{x:0,y:0};return{isDragging:!0,dx:a?0:n,dy:a?0:r,x:a?o.x:o.x-n,y:a?o.y:o.y-r}}),r&&function(){r(s({},t.state,{event:e}))})})),l(u(t),"handleDragMove",(function(e){var n=t.props.onDragMove;e.persist(),t.setState((function(t){var n=t.x,r=t.y,a=t.isDragging,o=(0,i.localPoint)(e)||{x:0,y:0};return a?{isDragging:!0,dx:o.x-(n||0),dy:o.y-(r||0)}:null}),n&&function(){t.state.isDragging&&n(s({},t.state,{event:e}))})})),l(u(t),"handleDragEnd",(function(e){var n=t.props.onDragEnd;e.persist(),t.setState({isDragging:!1},n&&function(){n(s({},t.state,{event:e}))})})),t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.state,t=e.x,n=e.y,r=e.dx,i=e.dy,o=e.isDragging,s=this.props,u=s.children,l=s.width,h=s.height,c=s.captureDragArea;return a.default.createElement(a.default.Fragment,null,o&&c&&a.default.createElement("rect",{width:l,height:h,onMouseMove:this.handleDragMove,onMouseUp:this.handleDragEnd,fill:"transparent"}),u({x:t,y:n,dx:r,dy:i,isDragging:o,dragEnd:this.handleDragEnd,dragMove:this.handleDragMove,dragStart:this.handleDragStart}))},r}(a.default.Component);t.default=h,l(h,"propTypes",{children:r.default.func.isRequired,width:r.default.number.isRequired,height:r.default.number.isRequired,captureDragArea:r.default.bool,resetOnStart:r.default.bool,onDragEnd:r.default.func,onDragMove:r.default.func,onDragStart:r.default.func}),l(h,"defaultProps",{captureDragArea:!0,resetOnStart:!1})}}]);
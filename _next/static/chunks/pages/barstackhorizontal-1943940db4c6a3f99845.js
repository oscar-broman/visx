_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[53],{"+Y26":function(t,n,e){"use strict";var r=e("Ddjo");n.a=function(t,n){if((a=t.length)>0){for(var e,a,i,o=0,l=t[0].length;o<l;++o){for(i=e=0;e<a;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<a;++e)t[e][o][1]/=i}Object(r.a)(t,n)}}},"+fu8":function(t,n,e){"use strict";e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return f}));var r=e("aWzz"),a=e.n(r),i=e("ERkP"),o=e.n(i),l=e("O94r"),u=e.n(l);function c(){return(c=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var s={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"};function f(t){var n=t.className,e=t.top,r=t.left,a=t.offsetLeft,i=void 0===a?10:a,l=t.offsetTop,f=void 0===l?10:l,p=t.style,d=void 0===p?s:p,m=t.children,h=t.unstyled,g=void 0!==h&&h,b=t.applyPositionStyle,v=void 0!==b&&b,y=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"]);return o.a.createElement("div",c({className:u()("visx-tooltip",n),style:c({top:null==e||null==f?e:e+f,left:null==r||null==i?r:r+i},v&&{position:"absolute"},!g&&d)},y),m)}f.propTypes={children:a.a.node,className:a.a.string,left:a.a.number,offsetLeft:a.a.number,offsetTop:a.a.number,top:a.a.number,applyPositionStyle:a.a.bool,unstyled:a.a.bool}},"/B0Q":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return i}));var r=e("W1cA");const a=Symbol("implicit");function i(){var t=new Map,n=[],e=[],o=a;function l(r){var i=r+"",l=t.get(i);if(!l){if(o!==a)return o;t.set(i,l=n.push(r))}return e[(l-1)%e.length]}return l.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return l},l.range=function(t){return arguments.length?(e=Array.from(t),l):e.slice()},l.unknown=function(t){return arguments.length?(o=t,l):o},l.copy=function(){return i(n,e).unknown(o)},r.b.apply(l,arguments),l}},"1Wmu":function(t,n,e){"use strict";function r(t,n){t(n)}e.d(n,"a",(function(){return r}))},"8KcL":function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/barstackhorizontal",function(){return e("f9Mv")}])},"9Qsi":function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("aWzz"),a=e.n(r),i=e("ERkP"),o=e.n(i);function l(){return(l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function u(t){var n=t.flex,e=void 0===n?"1":n,r=t.label,a=t.margin,i=void 0===a?"5px 0":a,u=t.align,c=void 0===u?"left":u,s=t.children,f=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["flex","label","margin","align","children"]);return o.a.createElement("div",l({className:"visx-legend-label",style:{justifyContent:c,display:"flex",flex:e,margin:i}},f),s||r)}u.propTypes={align:a.a.string,label:a.a.node,flex:a.a.oneOfType([a.a.string,a.a.number]),margin:a.a.oneOfType([a.a.string,a.a.number]),children:a.a.node}},"9uPv":function(t,n,e){"use strict";var r=e("V+6I");function a(t){for(var n,e=-1,r=0,a=t.length,i=-1/0;++e<a;)(n=+t[e][1])>i&&(i=n,r=e);return r}n.a=function(t){var n=t.map(a);return Object(r.a)(t).sort((function(t,e){return n[t]-n[e]}))}},ASUk:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("ERkP"),a=e.n(r),i=e("ssgm");function o(t){return a.a.createElement(i.a,t)}},"D+es":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("/B0Q"),a=e("xx0A"),i=Object(a.b)("domain","range","reverse","unknown");function o(t){return i(Object(r.a)(),t)}},Ddjo:function(t,n,e){"use strict";n.a=function(t,n){if((a=t.length)>1)for(var e,r,a,i=1,o=t[n[0]],l=o.length;i<a;++i)for(r=o,o=t[n[i]],e=0;e<l;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}},"Df+F":function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},HO86:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e("lEbO");function a(t,n){if(t){if("string"===typeof t)return Object(r.a)(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Object(r.a)(t,n):void 0}}},Iian:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("aWzz"),a=e.n(r),i=e("ERkP"),o=e.n(i);function l(){return(l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function u(t){var n=t.flexDirection,e=void 0===n?"row":n,r=t.alignItems,a=void 0===r?"center":r,i=t.margin,u=void 0===i?"0":i,c=t.display,s=void 0===c?"flex":c,f=t.children,p=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["flexDirection","alignItems","margin","display","children"]);return o.a.createElement("div",l({className:"visx-legend-item",style:{display:s,alignItems:a,flexDirection:e,margin:u}},p),f)}u.propTypes={alignItems:a.a.string,margin:a.a.oneOfType([a.a.string,a.a.number]),children:a.a.node,display:a.a.string}},KRsa:function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var r=e("ERkP"),a=e.n(r),i=e("O94r"),o=e.n(i),l=e("5Nbk"),u=e("pn27");function c(){return(c=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var s=function(){return{dx:"-0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"end"}};function f(t){var n=t.axisClassName,e=t.labelOffset,r=void 0===e?36:e,i=t.tickLabelProps,f=void 0===i?s:i,p=t.tickLength,d=void 0===p?8:p,m=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(l.a,c({axisClassName:o()("visx-axis-left",n),labelOffset:r,orientation:u.a.left,tickLabelProps:f,tickLength:d},m))}},M3gT:function(t,n,e){"use strict";n.a=function(t,n){if((l=t.length)>0)for(var e,r,a,i,o,l,u=0,c=t[n[0]].length;u<c;++u)for(i=o=0,e=0;e<l;++e)(a=(r=t[n[e]][u])[1]-r[0])>0?(r[0]=i,r[1]=i+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)}},NKRu:function(t,n,e){"use strict";var r=e("V+6I");n.a=function(t){return Object(r.a)(t).reverse()}},Q4nK:function(t,n,e){"use strict";var r=e("Ddjo");n.a=function(t,n){if((i=t.length)>0&&(a=(e=t[n[0]]).length)>0){for(var e,a,i,o=0,l=1;l<a;++l){for(var u=0,c=0,s=0;u<i;++u){for(var f=t[n[u]],p=f[l][1]||0,d=(p-(f[l-1][1]||0))/2,m=0;m<u;++m){var h=t[n[m]];d+=(h[l][1]||0)-(h[l-1][1]||0)}c+=p,s+=d*p}e[l-1][1]+=e[l-1][0]=o,c&&(o-=s/c)}e[l-1][1]+=e[l-1][0]=o,Object(r.a)(t,n)}}},QnoR:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("ERkP");function a(){return(a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function i(t){var n=Object(r.useState)(a({tooltipOpen:!1},t)),e=n[0],i=n[1],o=Object(r.useCallback)((function(t){return i("function"===typeof t?function(n){n.tooltipOpen;var e=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(n,["tooltipOpen"]);return a({},t(e),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:t.tooltipLeft,tooltipTop:t.tooltipTop,tooltipData:t.tooltipData})}),[i]),l=Object(r.useCallback)((function(){return i({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})}),[i]);return{tooltipOpen:e.tooltipOpen,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData,updateTooltip:i,showTooltip:o,hideTooltip:l}}},SGZq:function(t){t.exports=JSON.parse('{"name":"@visx/demo-barstack-horizontal","description":"Standalone visx horizontal stacked bar demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^16","@types/react-dom":"^16","@visx/axis":"latest","@visx/grid":"latest","@visx/group":"latest","@visx/legend":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","@visx/tooltip":"latest","d3-time-format":"2.2.3","react":"^16","react-dom":"^16","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","barstack"]}')},"V+6I":function(t,n,e){"use strict";n.a=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}},Vi0D:function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return s}));var r=e("+Y26"),a=e("M3gT"),i=e("Ddjo"),o=e("Xyxy"),l=e("Q4nK"),u={expand:r.a,diverging:a.a,none:i.a,silhouette:o.a,wiggle:l.a},c=Object.keys(u);function s(t){return t&&u[t]||u.none}},XVvB:function(t,n,e){"use strict";e.d(n,"c",(function(){return j})),e.d(n,"a",(function(){return T}));var r=e("fGyu"),a=e("zjfJ"),i=e("ERkP"),o=e.n(i),l=e("hvUR"),u=e("JmwF"),c=e("KRsa"),s=e("a7GN"),f=e("s2H9"),p=e.n(f),d=e("67po"),m=e("cc+0"),h=e("D+es"),g=e("mHfT"),b=e("+fu8"),v=e("xc3W"),y=e("ASUk"),x=o.a.createElement;function O(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function k(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?O(Object(e),!0).forEach((function(n){Object(a.a)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var w,j="#a44afe",T="#eaedff",S={top:40,left:50,right:40,bottom:100},E=k(k({},b.b),{},{minWidth:60,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}),P=p.a.slice(0,12),D=Object.keys(P[0]).filter((function(t){return"date"!==t})),N=P.reduce((function(t,n){var e=D.reduce((function(t,e){return t+=Number(n[e])}),0);return t.push(e),t}),[]),M=Object(g.b)("%Y-%m-%d"),z=Object(g.a)("%b %d"),L=function(t){return z(M(t))},A=function(t){return t.date},R=Object(d.a)({domain:[0,Math.max.apply(Math,Object(r.a)(N))],nice:!0}),C=Object(m.a)({domain:P.map(A),padding:.2}),I=Object(h.a)({domain:D,range:["#6c5efb","#c998ff",j]});n.b=Object(v.a)((function(t){var n=t.width,e=t.height,r=t.events,a=void 0!==r&&r,i=t.margin,o=void 0===i?S:i,f=t.tooltipOpen,p=t.tooltipLeft,d=t.tooltipTop,m=t.tooltipData,h=t.hideTooltip,g=t.showTooltip,v=n-o.left-o.right,O=e-o.top-o.bottom;return R.rangeRound([0,v]),C.rangeRound([O,0]),n<10?null:x("div",null,x("svg",{width:n,height:e},x("rect",{width:n,height:e,fill:T,rx:14}),x(u.a,{top:o.top,left:o.left},x(l.a,{data:P,keys:D,height:O,y:A,xScale:R,yScale:C,color:I},(function(t){return t.map((function(t){return t.bars.map((function(n){return x("rect",{key:"barstack-horizontal-".concat(t.index,"-").concat(n.index),x:n.x,y:n.y,width:n.width,height:n.height,fill:n.color,onClick:function(){a&&alert("clicked: ".concat(JSON.stringify(n)))},onMouseLeave:function(){w=window.setTimeout((function(){h()}),300)},onMouseMove:function(){w&&clearTimeout(w);var t=n.y+o.top,e=n.x+n.width+o.left;g({tooltipData:n,tooltipTop:t,tooltipLeft:e})}})}))}))})),x(c.a,{hideAxisLine:!0,hideTicks:!0,scale:C,tickFormat:L,stroke:j,tickStroke:j,tickLabelProps:function(){return{fill:j,fontSize:11,textAnchor:"end",dy:"0.33em"}}}),x(s.a,{top:O,scale:R,stroke:j,tickStroke:j,tickLabelProps:function(){return{fill:j,fontSize:11,textAnchor:"middle"}}}))),x("div",{style:{position:"absolute",top:o.top/2-10,width:"100%",display:"flex",justifyContent:"center",fontSize:"14px"}},x(y.a,{scale:I,direction:"row",labelMargin:"0 15px 0 0"})),f&&m&&x(b.a,{top:d,left:p,style:E},x("div",{style:{color:I(m.key)}},x("strong",null,m.key)),x("div",null,m.bar.data[m.key],"\u2109"),x("div",null,x("small",null,L(A(m.bar.data))))))}));try{Example.displayName="Example",Example.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; } | undefined"}},events:{defaultValue:null,description:"",name:"events",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-barstack-horizontal/Example.tsx#Example"]={docgenInfo:Example.__docgenInfo,name:"Example",path:"src/sandboxes/visx-barstack-horizontal/Example.tsx#Example"})}catch(B){}},Xyxy:function(t,n,e){"use strict";var r=e("Ddjo");n.a=function(t,n){if((e=t.length)>0){for(var e,a=0,i=t[n[0]],o=i.length;a<o;++a){for(var l=0,u=0;l<e;++l)u+=t[l][a][1]||0;i[a][1]+=i[a][0]=-u/2}Object(r.a)(t,n)}}},YaE3:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return u}));var r=function(t,n,e){t=+t,n=+n,e=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+e;for(var r=-1,a=0|Math.max(0,Math.ceil((n-t)/e)),i=new Array(a);++r<a;)i[r]=t+r*e;return i},a=e("W1cA"),i=e("/B0Q");function o(){var t,n,e=Object(i.a)().unknown(void 0),l=e.domain,u=e.range,c=0,s=1,f=!1,p=0,d=0,m=.5;function h(){var e=l().length,a=s<c,i=a?s:c,o=a?c:s;t=(o-i)/Math.max(1,e-p+2*d),f&&(t=Math.floor(t)),i+=(o-i-t*(e-p))*m,n=t*(1-p),f&&(i=Math.round(i),n=Math.round(n));var h=r(e).map((function(n){return i+t*n}));return u(a?h.reverse():h)}return delete e.unknown,e.domain=function(t){return arguments.length?(l(t),h()):l()},e.range=function(t){return arguments.length?([c,s]=t,c=+c,s=+s,h()):[c,s]},e.rangeRound=function(t){return[c,s]=t,c=+c,s=+s,f=!0,h()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(f=!!t,h()):f},e.padding=function(t){return arguments.length?(p=Math.min(1,d=+t),h()):p},e.paddingInner=function(t){return arguments.length?(p=Math.min(1,t),h()):p},e.paddingOuter=function(t){return arguments.length?(d=+t,h()):d},e.align=function(t){return arguments.length?(m=Math.max(0,Math.min(1,t)),h()):m},e.copy=function(){return o(l(),[c,s]).round(f).paddingInner(p).paddingOuter(d).align(m)},a.b.apply(h(),arguments)}function l(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(n())},t}function u(){return l(o.apply(null,arguments).paddingInner(1))}},Zx3a:function(t,n,e){"use strict";e.d(n,"b",(function(){return a}));var r=e("V+6I");function a(t){for(var n,e=0,r=-1,a=t.length;++r<a;)(n=+t[r][1])&&(e+=n);return e}n.a=function(t){var n=t.map(a);return Object(r.a)(t).sort((function(t,e){return n[t]-n[e]}))}},a7GN:function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var r=e("ERkP"),a=e.n(r),i=e("O94r"),o=e.n(i),l=e("5Nbk"),u=e("pn27");function c(){return(c=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var s=function(){return{dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"middle"}};function f(t){var n=t.axisClassName,e=t.labelOffset,r=void 0===e?8:e,i=t.tickLabelProps,f=void 0===i?s:i,p=t.tickLength,d=void 0===p?8:p,m=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["axisClassName","labelOffset","tickLabelProps","tickLength"]);return a.a.createElement(l.a,c({axisClassName:o()("visx-axis-bottom",n),labelOffset:r,orientation:u.a.bottom,tickLabelProps:f,tickLength:d},m))}},bmYZ:function(t,n,e){"use strict";function r(t){if("bandwidth"in t)return t.bandwidth();var n=t.range(),e=t.domain();return Math.abs(n[n.length-1]-n[0])/e.length}e.d(n,"a",(function(){return r}))},c6zU:function(t,n,e){"use strict";var r=e("Zx3a");n.a=function(t){return Object(r.a)(t).reverse()}},"cc+0":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("YaE3"),a=e("xx0A"),i=Object(a.b)("domain","range","reverse","align","padding","round");function o(t){return i(Object(r.a)(),t)}},f9Mv:function(t,n,e){"use strict";e.r(n);var r=e("ERkP"),a=e.n(r),i=e("6wy5"),o=e("XVvB"),l=e("SGZq"),u=a.a.createElement;n.default=function(){return u(i.a,{events:!0,margin:{top:80,left:80,right:40,bottom:100},component:o.b,title:"Bar Stack Horizontal",codeSandboxDirectoryName:"visx-barstack-horizontal",packageJson:l},"import React from 'react';\nimport { BarStackHorizontal } from '@visx/shape';\nimport { SeriesPoint } from '@visx/shape/lib/types';\nimport { Group } from '@visx/group';\nimport { AxisBottom, AxisLeft } from '@visx/axis';\nimport cityTemperature, { CityTemperature } from '@visx/mock-data/lib/mocks/cityTemperature';\nimport { scaleBand, scaleLinear, scaleOrdinal } from '@visx/scale';\nimport { timeParse, timeFormat } from 'd3-time-format';\nimport { withTooltip, Tooltip, defaultStyles } from '@visx/tooltip';\nimport { WithTooltipProvidedProps } from '@visx/tooltip/lib/enhancers/withTooltip';\nimport { LegendOrdinal } from '@visx/legend';\n\ntype CityName = 'New York' | 'San Francisco' | 'Austin';\n\ntype TooltipData = {\n  bar: SeriesPoint<CityTemperature>;\n  key: CityName;\n  index: number;\n  height: number;\n  width: number;\n  x: number;\n  y: number;\n  color: string;\n};\n\nexport type BarStackHorizontalProps = {\n  width: number;\n  height: number;\n  margin?: { top: number; right: number; bottom: number; left: number };\n  events?: boolean;\n};\n\nconst purple1 = '#6c5efb';\nconst purple2 = '#c998ff';\nexport const purple3 = '#a44afe';\nexport const background = '#eaedff';\nconst defaultMargin = { top: 40, left: 50, right: 40, bottom: 100 };\nconst tooltipStyles = {\n  ...defaultStyles,\n  minWidth: 60,\n  backgroundColor: 'rgba(0,0,0,0.9)',\n  color: 'white',\n};\n\nconst data = cityTemperature.slice(0, 12);\nconst keys = Object.keys(data[0]).filter(d => d !== 'date') as CityName[];\n\nconst temperatureTotals = data.reduce((allTotals, currentDate) => {\n  const totalTemperature = keys.reduce((dailyTotal, k) => {\n    dailyTotal += Number(currentDate[k]);\n    return dailyTotal;\n  }, 0);\n  allTotals.push(totalTemperature);\n  return allTotals;\n}, [] as number[]);\n\nconst parseDate = timeParse('%Y-%m-%d');\nconst format = timeFormat('%b %d');\nconst formatDate = (date: string) => format(parseDate(date) as Date);\n\n// accessors\nconst getDate = (d: CityTemperature) => d.date;\n\n// scales\nconst temperatureScale = scaleLinear<number>({\n  domain: [0, Math.max(...temperatureTotals)],\n  nice: true,\n});\nconst dateScale = scaleBand<string>({\n  domain: data.map(getDate),\n  padding: 0.2,\n});\nconst colorScale = scaleOrdinal<CityName, string>({\n  domain: keys,\n  range: [purple1, purple2, purple3],\n});\n\nlet tooltipTimeout: number;\n\nexport default withTooltip<BarStackHorizontalProps, TooltipData>(\n  ({\n    width,\n    height,\n    events = false,\n    margin = defaultMargin,\n    tooltipOpen,\n    tooltipLeft,\n    tooltipTop,\n    tooltipData,\n    hideTooltip,\n    showTooltip,\n  }: BarStackHorizontalProps & WithTooltipProvidedProps<TooltipData>) => {\n    // bounds\n    const xMax = width - margin.left - margin.right;\n    const yMax = height - margin.top - margin.bottom;\n\n    temperatureScale.rangeRound([0, xMax]);\n    dateScale.rangeRound([yMax, 0]);\n\n    return width < 10 ? null : (\n      <div>\n        <svg width={width} height={height}>\n          <rect width={width} height={height} fill={background} rx={14} />\n          <Group top={margin.top} left={margin.left}>\n            <BarStackHorizontal<CityTemperature, CityName>\n              data={data}\n              keys={keys}\n              height={yMax}\n              y={getDate}\n              xScale={temperatureScale}\n              yScale={dateScale}\n              color={colorScale}\n            >\n              {barStacks =>\n                barStacks.map(barStack =>\n                  barStack.bars.map(bar => (\n                    <rect\n                      key={`barstack-horizontal-${barStack.index}-${bar.index}`}\n                      x={bar.x}\n                      y={bar.y}\n                      width={bar.width}\n                      height={bar.height}\n                      fill={bar.color}\n                      onClick={() => {\n                        if (events) alert(`clicked: ${JSON.stringify(bar)}`);\n                      }}\n                      onMouseLeave={() => {\n                        tooltipTimeout = window.setTimeout(() => {\n                          hideTooltip();\n                        }, 300);\n                      }}\n                      onMouseMove={() => {\n                        if (tooltipTimeout) clearTimeout(tooltipTimeout);\n                        const top = bar.y + margin.top;\n                        const left = bar.x + bar.width + margin.left;\n                        showTooltip({\n                          tooltipData: bar,\n                          tooltipTop: top,\n                          tooltipLeft: left,\n                        });\n                      }}\n                    />\n                  )),\n                )\n              }\n            </BarStackHorizontal>\n            <AxisLeft\n              hideAxisLine\n              hideTicks\n              scale={dateScale}\n              tickFormat={formatDate}\n              stroke={purple3}\n              tickStroke={purple3}\n              tickLabelProps={() => ({\n                fill: purple3,\n                fontSize: 11,\n                textAnchor: 'end',\n                dy: '0.33em',\n              })}\n            />\n            <AxisBottom\n              top={yMax}\n              scale={temperatureScale}\n              stroke={purple3}\n              tickStroke={purple3}\n              tickLabelProps={() => ({\n                fill: purple3,\n                fontSize: 11,\n                textAnchor: 'middle',\n              })}\n            />\n          </Group>\n        </svg>\n        <div\n          style={{\n            position: 'absolute',\n            top: margin.top / 2 - 10,\n            width: '100%',\n            display: 'flex',\n            justifyContent: 'center',\n            fontSize: '14px',\n          }}\n        >\n          <LegendOrdinal scale={colorScale} direction=\"row\" labelMargin=\"0 15px 0 0\" />\n        </div>\n        {tooltipOpen && tooltipData && (\n          <Tooltip top={tooltipTop} left={tooltipLeft} style={tooltipStyles}>\n            <div style={{ color: colorScale(tooltipData.key) }}>\n              <strong>{tooltipData.key}</strong>\n            </div>\n            <div>{tooltipData.bar.data[tooltipData.key]}\u2109</div>\n            <div>\n              <small>{formatDate(getDate(tooltipData.bar.data))}</small>\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  },\n);\n")}},fGyu:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e("lEbO");var a=e("HO86");function i(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},g2fB:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e("ERkP"),a=e.n(r),i=e("O94r"),o=e.n(i);function l(){return(l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function u(t){var n=t.className,e=t.innerRef,r=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["className","innerRef"]);return a.a.createElement("rect",l({ref:e,className:o()("visx-bar",n)},r))}},hvUR:function(t,n,e){"use strict";e.d(n,"a",(function(){return g}));var r=e("ERkP"),a=e.n(r),i=e("O94r"),o=e.n(i),l=e("uvDt"),u=e("JmwF"),c=e("kBt3"),s=e("bmYZ"),f=e("1Wmu"),p=e("oWfS"),d=e("Vi0D"),m=e("g2fB");function h(){return(h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function g(t){var n=t.data,e=t.className,r=t.top,i=t.left,g=t.y,b=t.x0,v=void 0===b?c.a:b,y=t.x1,x=void 0===y?c.b:y,O=t.xScale,k=t.yScale,w=t.color,j=t.keys,T=t.value,S=t.order,E=t.offset,P=t.children,D=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"]),N=Object(l.a)();j&&N.keys(j),T&&Object(f.a)(N.value,T),S&&N.order(Object(p.c)(S)),E&&N.offset(Object(d.c)(E));var M=N(n),z=Object(s.a)(k),L=M.map((function(t,n){var e=t.key;return{index:n,key:e,bars:t.map((function(n,r){var a=(O(x(n))||0)-(O(v(n))||0),i=O(v(n)),o="bandwidth"in k?k(g(n.data)):Math.max((k(g(n.data))||0)-a/2);return{bar:n,key:e,index:r,height:z,width:a,x:i||0,y:o||0,color:w(t.key,r)}}))}}));return P?a.a.createElement(a.a.Fragment,null,P(L)):a.a.createElement(u.a,{className:o()("visx-bar-stack-horizontal",e),top:r,left:i},L.map((function(t){return t.bars.map((function(n){return a.a.createElement(m.a,h({key:"bar-stack-"+t.index+"-"+n.index,x:n.x,y:n.y,height:n.height,width:n.width,fill:n.color},D))}))})))}},i2lw:function(t,n,e){"use strict";function r(t){var n=t.scale,e=t.labelFormat;return function(t,r){return{datum:t,index:r,text:""+e(t,r),value:n(t)}}}e.d(n,"a",(function(){return r}))},kBt3:function(t,n,e){"use strict";function r(t){return"number"===typeof(null==t?void 0:t.x)?null==t?void 0:t.x:0}function a(t){return"number"===typeof(null==t?void 0:t.y)?null==t?void 0:t.y:0}function i(t){return null==t?void 0:t.source}function o(t){return null==t?void 0:t.target}function l(t){return null==t?void 0:t[0]}function u(t){return null==t?void 0:t[1]}e.d(n,"e",(function(){return r})),e.d(n,"f",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"d",(function(){return o})),e.d(n,"a",(function(){return l})),e.d(n,"b",(function(){return u}))},lEbO:function(t,n,e){"use strict";function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}e.d(n,"a",(function(){return r}))},oWfS:function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return s}));var r=e("Zx3a"),a=e("c6zU"),i=e("yU24"),o=e("V+6I"),l=e("NKRu"),u={ascending:r.a,descending:a.a,insideout:i.a,none:o.a,reverse:l.a},c=Object.keys(u);function s(t){return t&&u[t]||u.none}},ssgm:function(t,n,e){"use strict";e.d(n,"a",(function(){return T}));var r=e("aWzz"),a=e.n(r),i=e("ERkP"),o=e.n(i),l=e("O94r"),u=e.n(l),c=e("Iian"),s=e("9Qsi");function f(){return(f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function p(t){var n=t.fill,e=t.width,r=t.height,a=t.style;return o.a.createElement("div",{style:f({width:e,height:r,background:n},a)})}p.propTypes={fill:a.a.string,width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number])};var d=e("JmwF");function m(t){var n=t.fill,e=t.width,r=t.height,a=t.style,i="string"===typeof e||"undefined"===typeof e?0:e,l="string"===typeof r||"undefined"===typeof r?0:r,u=Math.max(i,l),c=u/2;return o.a.createElement("svg",{width:u,height:u},o.a.createElement(d.a,{top:c,left:c},o.a.createElement("circle",{r:c,fill:n,style:a})))}function h(t){var n=t.fill,e=t.width,r=t.height,a=t.style,i="string"===typeof r||"undefined"===typeof r?0:r,l="number"===typeof(null==a?void 0:a.strokeWidth)?null==a?void 0:a.strokeWidth:2;return o.a.createElement("svg",{width:e,height:r},o.a.createElement(d.a,{top:i/2-l/2},o.a.createElement("line",{x1:0,x2:e,y1:0,y2:0,stroke:n,strokeWidth:l,style:a})))}function g(){return(g=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}m.propTypes={fill:a.a.string,width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number])},h.propTypes={fill:a.a.string,width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number])};var b=function(){};function v(){return(v=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function y(t){var n=t.shape,e=void 0===n?p:n,r=t.width,a=t.height,i=t.margin,l=t.label,u=t.item,c=t.itemIndex,s=t.fill,f=t.size,d=t.shapeStyle;return o.a.createElement("div",{className:"visx-legend-shape",style:{display:"flex",width:f?f(v({},l)):r,height:f?f(v({},l)):a,margin:i}},function(t){var n=t.shape,e=void 0===n?"rect":n,r=t.fill,a=void 0===r?b:r,i=t.size,l=void 0===i?b:i,u=t.width,c=t.height,s=t.label,f=t.item,d=t.itemIndex,v=t.shapeStyle,y=void 0===v?b:v,x={width:u,height:c,item:f,itemIndex:d,label:s,fill:a(g({},s)),size:l(g({},s)),style:y(g({},s))};return"string"===typeof e?"circle"===e?o.a.createElement(m,x):"line"===e?o.a.createElement(h,x):o.a.createElement(p,x):o.a.isValidElement(e)?o.a.cloneElement(e,x):e?o.a.createElement(e,x):null}({shape:e,item:u,itemIndex:c,label:l,width:r,height:a,fill:s,shapeStyle:d}))}function x(t){return t&&"object"===typeof t&&"value"in t&&"undefined"!==typeof t.value?t.value:t}function O(t){return String(x(t))}y.propTypes={itemIndex:a.a.number.isRequired,margin:a.a.oneOfType([a.a.string,a.a.number]),fill:a.a.func,size:a.a.func,shapeStyle:a.a.func,width:a.a.oneOfType([a.a.string,a.a.number]),height:a.a.oneOfType([a.a.string,a.a.number])};var k=e("i2lw");function w(){return(w=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var j={display:"flex"};function T(t){var n=t.className,e=t.style,r=void 0===e?j:e,a=t.scale,i=t.shape,l=t.domain,f=t.fill,p=void 0===f?O:f,d=t.size,m=void 0===d?O:d,h=t.labelFormat,g=void 0===h?x:h,b=t.labelTransform,v=void 0===b?k.a:b,T=t.shapeWidth,S=void 0===T?15:T,E=t.shapeHeight,P=void 0===E?15:E,D=t.shapeMargin,N=void 0===D?"2px 4px 2px 0":D,M=t.shapeStyle,z=t.labelAlign,L=void 0===z?"left":z,A=t.labelFlex,R=void 0===A?"1":A,C=t.labelMargin,I=void 0===C?"0 4px":C,B=t.itemMargin,W=void 0===B?"0":B,F=t.direction,_=void 0===F?"column":F,H=t.itemDirection,V=void 0===H?"row":H,J=t.legendLabelProps,Y=t.children,K=function(t,n){if(null==t)return{};var e,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(a[e]=t[e]);return a}(t,["className","style","scale","shape","domain","fill","size","labelFormat","labelTransform","shapeWidth","shapeHeight","shapeMargin","shapeStyle","labelAlign","labelFlex","labelMargin","itemMargin","direction","itemDirection","legendLabelProps","children"]),G=l||("domain"in a?a.domain():[]),Q=v({scale:a,labelFormat:g}),U=G.map(Q);return Y?o.a.createElement(o.a.Fragment,null,Y(U)):o.a.createElement("div",{className:u()("visx-legend",n),style:w({},r,{flexDirection:_})},U.map((function(t,n){return o.a.createElement(c.a,w({key:"legend-"+t.text+"-"+n,margin:W,flexDirection:V},K),o.a.createElement(y,{shape:i,height:P,width:S,margin:N,item:G[n],itemIndex:n,label:t,fill:p,size:m,shapeStyle:M}),o.a.createElement(s.a,w({label:t.text,flex:R,margin:I,align:L},J)))})))}T.propTypes={children:a.a.func,className:a.a.string,domain:a.a.array,shapeWidth:a.a.oneOfType([a.a.string,a.a.number]),shapeHeight:a.a.oneOfType([a.a.string,a.a.number]),shapeMargin:a.a.oneOfType([a.a.string,a.a.number]),labelAlign:a.a.string,labelFlex:a.a.oneOfType([a.a.string,a.a.number]),labelMargin:a.a.oneOfType([a.a.string,a.a.number]),itemMargin:a.a.oneOfType([a.a.string,a.a.number]),fill:a.a.func,size:a.a.func,shapeStyle:a.a.func}},uvDt:function(t,n,e){"use strict";var r=e("w4to"),a=e("Df+F"),i=e("Ddjo"),o=e("V+6I");function l(t,n){return t[n]}n.a=function(){var t=Object(a.a)([]),n=o.a,e=i.a,u=l;function c(r){var a,i,o=t.apply(this,arguments),l=r.length,c=o.length,s=new Array(c);for(a=0;a<c;++a){for(var f,p=o[a],d=s[a]=new Array(l),m=0;m<l;++m)d[m]=f=[0,+u(r[m],p,m,r)],f.data=r[m];d.key=p}for(a=0,i=n(s);a<c;++a)s[i[a]].index=a;return e(s,i),s}return c.keys=function(n){return arguments.length?(t="function"===typeof n?n:Object(a.a)(r.a.call(n)),c):t},c.value=function(t){return arguments.length?(u="function"===typeof t?t:Object(a.a)(+t),c):u},c.order=function(t){return arguments.length?(n=null==t?o.a:"function"===typeof t?t:Object(a.a)(r.a.call(t)),c):n},c.offset=function(t){return arguments.length?(e=null==t?i.a:t,c):e},c}},w4to:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=Array.prototype.slice},xc3W:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e("ERkP"),a=e.n(r),i=e("QnoR");function o(){return(o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function l(t,n,e){void 0===n&&(n={style:{position:"relative",width:"inherit",height:"inherit"}}),void 0===e&&(e=function(t,n){return a.a.createElement("div",n,t)});return function(r){var l=Object(i.a)();return e(a.a.createElement(t,o({},l,r)),n)}}},yU24:function(t,n,e){"use strict";var r=e("9uPv"),a=e("Zx3a");n.a=function(t){var n,e,i=t.length,o=t.map(a.b),l=Object(r.a)(t),u=0,c=0,s=[],f=[];for(n=0;n<i;++n)e=l[n],u<c?(u+=o[e],s.push(e)):(c+=o[e],f.push(e));return f.reverse().concat(s)}},zjfJ:function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,"a",(function(){return r}))}},[["8KcL",0,2,1,3,4,5,6,11,12,15,16]]]);